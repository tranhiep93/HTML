<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>angular danh sach san pham</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <style>
        .name-clother{
            font-size: 16px;
            font-weight: bold;
        }


    </style>
</head>
<body>
    <div class ="container text-center" ng-app="angularjs_dssp" ng-controller="angularjs_dsspctrl">
        <h3 class="text-center">Danh sách sản phẩm</h3>
        <div class="row my-5">
            <div class="col-md-4 col-sm-12 border rounded py-3" ng-repeat="item in products">
                <div class="image-div">
                    <img src="{{item.anh}}" alt="{{item.tensp">
                </div>
                <!-- my-2 dãn theo chiều đứng, trục Y -->
                <div class="info my-2" style="display: flex; flex-direction: row; justify-content: space-between;">
                    <span class="name-clother" ng-bind="item.tensp"></span>
                    <span class="price-clother">{{item.gia + '$'}}</span>
                </div>
                <div class="btn-div">
                    <!--ng-click="showProd(item)" tên một biến item trong hàm showProd  -->
                    <button class="btn btn-primary" ng-click="showProd(item)">Xem chi tiet</button>
                </div>
            </div>
            <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                  <div class="modal-content py-5">
                      <h3 class="text-center">Thông tin chi tiết sản phẩm</h3>
                      <div class="row">
                        <div class="col-6">
                            <div class="image-div">
                                <img src="{{item.anh}}" alt="{{item.tensp}}">
                            </div>
                            <div class="info my-5" style="display: flex; flex-direction: row;justify-content: space-between;">
                                <span class="name-clother" ng-bind="item.tensp"></span>
                                <span class="price-clother">{{item.gia + '$'}}</span>
                            </div>
                        </div>
                        <div class="col-6">
                            {{item.mota}}
                        </div>
                    </div>
                  </div>
                </div>
              </div>
        </div>
    </div>
    <script>
        // khai bao app
        var app = angular.module("angularjs_dssp", []);
        //  dinh nghia controller
        app.controller("angularjs_dsspctrl", angularjs_dsspCtrl);
        // ding nghia cac ham cua controller
        function angularjs_dsspCtrl($scope){
            // dùng được khi tạo biến hiển thị ngoài html và dung trong js
            $scope.products = initData();
            $scope.showProd = function(item){
                // hiển thị giá trị item
                // alert (item);
                // chuyển đổi dữ liệu json/object sang dạng chuỗi. JSON.stringify(item)
                alert (JSON.stringify(item));
                $scope.item = item;
                // hiển thị modal
                $('.modal').modal('show');
            }
        }


        initData();
        // khoi tao danh sach du lieu san pham
        function initData(){
            // khai bao bien mang []
            var products = [];
            // san pham co cac thong tin: ma, ten, gia, anh, mota
            // khai bao bien object {}
            // var sanpham = {};
            var prod = {
                masp:"sp001",
                tensp:"váy dạ hội 1",
                gia: 200,
                anh:"./Dress-1.jpg",
                mota:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis placeat officia modi debitis aliquid dolorem magnam, vero quibusdam accusantium eius commodi accusamus ratione deleniti nam minus maxime exercitationem impedit eveniet!"
                };
            console.log("Gia san pham: " + prod.gia);
            console.log("Ma san pham: " + prod.masp);
            console.log("Ten san pham: " + prod.tensp);
        
            // luu doi tuong vao trong ds (mang)
            products.push(prod);
            // them cac san pham khac
            products.push({
                masp:"sp002",
                tensp:"váy dạ hội 2",
                gia: 300,
                anh:"./Dress-2.jpg",
                mota:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis placeat officia modi debitis aliquid dolorem magnam, vero quibusdam accusantium eius commodi accusamus ratione deleniti nam minus maxime exercitationem impedit eveniet!"
            });
            products.push({
                masp:"sp003",
                tensp:"váy dạ hội 3",
                gia: 330,
                anh:"./Dress-3.jpg",
                mota:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis placeat officia modi debitis aliquid dolorem magnam, vero quibusdam accusantium eius commodi accusamus ratione deleniti nam minus maxime exercitationem impedit eveniet!"
            });
            products.push({
                masp:"sp004",
                tensp:"váy dạ hội 4",
                gia: 650,
                anh:"./Dress-4.jpg",
                mota:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis placeat officia modi debitis aliquid dolorem magnam, vero quibusdam accusantium eius commodi accusamus ratione deleniti nam minus maxime exercitationem impedit eveniet!"
            });
            products.push({
                masp:"sp005",
                tensp:"váy dạ hội 5",
                gia: 230,
                anh:"./Dress-5.jpg",
                mota:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis placeat officia modi debitis aliquid dolorem magnam, vero quibusdam accusantium eius commodi accusamus ratione deleniti nam minus maxime exercitationem impedit eveniet!"
            });
            products.push({
                masp:"sp006",
                tensp:"váy dạ hội 6",
                gia: 10,
                anh:"./Dress-6.jpg",
                mota:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis placeat officia modi debitis aliquid dolorem magnam, vero quibusdam accusantium eius commodi accusamus ratione deleniti nam minus maxime exercitationem impedit eveniet!"
            });

            console.log("So luong san pham: "+ products.length);
            return products;
        
        
        
        
        
        }
        


    </script>


</body>
</html>